<div class="login-container">
  <div class="login-card">
    <div class="login-image">
      <img src="/img/login-photo.jpg" alt="Recover Image" />
    </div>

    <div class="login-form">
      <div class="form-inner">
        <h2 class="logo">游댰 Logotipo</h2>
        <h3>Recuperar contrase침a</h3>

        <!-- 游댳 Paso 1: Usuario -->
        <form *ngIf="step === 1" (ngSubmit)="startRecovery()">
          <div class="form-group">
            <input
              name="username"
              [(ngModel)]="username"
              placeholder="Usuario"
              required
            />
          </div>
          <button type="submit" class="btn-login" [disabled]="loading">
            {{ loading ? 'Buscando...' : 'Continuar' }}
          </button>
        </form>

        <!-- 游댳 Paso 2: Preguntas de seguridad -->
        <form *ngIf="step === 2" (ngSubmit)="verifyAnswers()">
          <ng-container *ngFor="let question of questions; let idx = index">
            <div class="form-group">
              <label>{{ question }}</label>
              <input
                [name]="'answer' + idx"
                [(ngModel)]="answers[idx]"
                [placeholder]="'Respuesta ' + (idx + 1)"
                required
              />
            </div>
          </ng-container>

          <button type="submit" class="btn-login" [disabled]="loading">
            {{ loading ? 'Verificando...' : 'Verificar respuestas' }}
          </button>
        </form>

        <!-- 游댳 Paso 3: Nueva contrase침a -->
        <form *ngIf="step === 3" (ngSubmit)="resetPassword()">
          <div class="form-group">
            <input
              type="password"
              name="newPassword"
              [(ngModel)]="newPassword"
              placeholder="Nueva contrase침a"
              required
            />
          </div>

          <div class="form-group">
            <input
              type="password"
              name="confirmPassword"
              [(ngModel)]="confirmPassword"
              placeholder="Confirmar contrase침a"
              required
            />
          </div>

          <button type="submit" class="btn-login" [disabled]="loading">
            {{ loading ? 'Guardando...' : 'Cambiar contrase침a' }}
          </button>
        </form>

        <div class="options">
          <a routerLink="/login">Volver al inicio de sesi칩n</a>
        </div>
      </div>
    </div>
  </div>
</div>
