<div class="app-shell">
  <!-- BARRA DE NAVEGACI√ìN SUPERIOR -->
  <header class="top-navbar">
    <div class="navbar-brand">
      <img src="/img/logo.jpg" alt="logo" class="brand-img"/>
      <h1>RUTAS LOGISTICAS</h1>
    </div>

    <!-- MEN√ö DE NAVEGACI√ìN -->
    <nav class="navbar-menu">
      <ul class="nav-list">
        <li><a routerLink="inicio" routerLinkActive="active"><i class="fas fa-home"></i> Inicio</a></li>
        <li><a routerLink="mapa" routerLinkActive="active"><i class="fas fa-map"></i> Mapa</a></li>
        <li><a routerLink="clientes" routerLinkActive="active"><i class="fas fa-users"></i> Clientes</a></li>
        <li><a routerLink="pedidos" routerLinkActive="active"><i class="fas fa-box"></i> Pedidos</a></li>
        <li><a routerLink="vehiculos" routerLinkActive="active"><i class="fas fa-truck"></i> Veh√≠culos</a></li>
        <li><a routerLink="conductores" routerLinkActive="active"><i class="fas fa-id-card"></i> Conductores</a></li>
        <li><a routerLink="reportes" routerLinkActive="active"><i class="fas fa-chart-bar"></i> Reportes</a></li>
        <li><a routerLink="auditoria" routerLinkActive="active"><i class="fas fa-shield-alt"></i> Auditor√≠a</a></li>
        <li *ngIf="canViewInicio()"><a routerLink="inicio" routerLinkActive="active"><i class="fas fa-home"></i> Inicio</a></li>
        <li *ngIf="canViewMapa()"><a routerLink="mapa" routerLinkActive="active"><i class="fas fa-map"></i> Mapa</a></li>
        <li *ngIf="canViewClientes()"><a routerLink="clientes" routerLinkActive="active"><i class="fas fa-users"></i> Clientes</a></li>
        <li *ngIf="canViewPedidos()"><a routerLink="pedidos" routerLinkActive="active"><i class="fas fa-box"></i> Pedidos</a></li>
        <li *ngIf="canViewVehiculos()"><a routerLink="vehiculos" routerLinkActive="active"><i class="fas fa-truck"></i> Veh√≠culos</a></li>
        <li *ngIf="canViewConductores()"><a routerLink="conductores" routerLinkActive="active"><i class="fas fa-id-card"></i> Conductores</a></li>
        <li *ngIf="canViewReportes()"><a routerLink="reportes" routerLinkActive="active"><i class="fas fa-chart-bar"></i> Reportes</a></li>
        <li *ngIf="canViewRoles()"><a routerLink="roles" routerLinkActive="active"><i class="fas fa-shield-alt"></i> Roles</a></li>
        <li *ngIf="canViewUsuarios()"><a routerLink="usuarios" routerLinkActive="active"><i class="fas fa-user-cog"></i> Usuarios</a></li>
      </ul>
    </nav>

    <!-- √ÅREA DE USUARIO -->
    <div class="navbar-user">
      <div class="user-dropdown">
        <button class="user-toggle" (click)="toggleUserMenu()">
          <div class="user-info">
            <div class="profile">üë§</div>
            <div class="username" *ngIf="username">{{ username }}</div>
          </div>
          <i class="fas fa-chevron-down"></i>
        </button>
        
        <div class="user-menu" [class.show]="showUserMenu">
          <a routerLink="perfil" class="user-menu-item" (click)="closeUserMenu()">
            <i class="fas fa-user-circle"></i> Mi Perfil
          </a>
          <button type="button" (click)="logout()" class="user-menu-item logout">
            <i class="fas fa-sign-out-alt"></i> Cerrar Sesi√≥n
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>
</div>
